<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <meta name="theme-color" content="#000000">
  <title>DASHBOARD V4</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <style>
    :root {
      --bg: #000000;
      --surface: #111111;
      --primary: #ff003c; /* Cyberpunk Red */
      --secondary: #00f0ff; /* Cyan accent */
      --text: #ffffff;
      --text-muted: #888888;
      --border: #333333;
      --input-bg: #1a1a1a;
      --success: #00ff9d;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      -webkit-tap-highlight-color: transparent;
      font-family: 'Rajdhani', sans-serif;
    }

    body {
      background-color: var(--bg);
      color: var(--text);
      height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      /* Scanline effect */
      background-image: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
      background-size: 100% 2px, 3px 100%;
    }

    /* Top Bar */
    .app-bar {
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      border-bottom: 1px solid var(--border);
      background: rgba(0,0,0,0.9);
      backdrop-filter: blur(10px);
      z-index: 10;
    }

    .app-title {
      font-size: 18px;
      font-weight: 700;
      letter-spacing: 1px;
      color: var(--text);
    }

    .status-indicator {
        font-size: 10px;
        color: var(--success);
        border: 1px solid var(--success);
        padding: 2px 6px;
        border-radius: 2px;
        font-family: 'Roboto Mono', monospace;
        letter-spacing: 1px;
    }

    /* Main Content */
    .content-area {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      padding-bottom: 80px; /* Space for bottom nav */
    }

    /* User Stats Card */
    .stats-card {
      background: var(--surface);
      border: 1px solid var(--border);
      padding: 15px;
      margin-bottom: 25px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: relative;
    }

    .stats-card::after {
        content: '';
        position: absolute;
        bottom: -1px; left: 0; width: 100%; height: 2px;
        background: linear-gradient(90deg, transparent, var(--primary), transparent);
    }

    .user-info h3 {
      font-size: 16px;
      color: var(--secondary);
      margin-bottom: 4px;
    }

    .user-info p {
        font-size: 12px;
        color: var(--text-muted);
        font-family: 'Roboto Mono', monospace;
    }

    .server-status {
        text-align: right;
    }

    .status-text {
        font-size: 14px;
        font-weight: 700;
        color: var(--text);
    }

    /* Server Message */
    .server-msg-box {
        background: rgba(255, 0, 60, 0.1);
        border-left: 2px solid var(--primary);
        padding: 10px;
        font-size: 12px;
        color: #ffcccc;
        margin-bottom: 20px;
        font-family: 'Roboto Mono', monospace;
    }

    /* Target Input */
    .target-section {
        margin-bottom: 25px;
    }

    .section-title {
        font-size: 12px;
        color: var(--text-muted);
        margin-bottom: 10px;
        text-transform: uppercase;
        font-weight: 700;
        letter-spacing: 1px;
    }

    .input-wrapper {
        position: relative;
    }

    .target-input {
        width: 100%;
        background: var(--input-bg);
        border: 1px solid var(--border);
        padding: 15px;
        padding-left: 45px;
        color: #fff;
        font-size: 16px;
        font-family: 'Roboto Mono', monospace;
        outline: none;
        transition: 0.3s;
    }

    .target-input:focus {
        border-color: var(--primary);
        box-shadow: 0 0 15px rgba(255, 0, 60, 0.1);
    }

    .input-icon {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--primary);
    }

    /* App Grid */
    .apps-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
    }

    .app-item {
      background: var(--surface);
      border: 1px solid var(--border);
      aspect-ratio: 1.2;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
      overflow: hidden;
    }

    .app-item:active {
        background: #222;
        transform: scale(0.98);
    }

    .app-item.selected {
        border-color: var(--primary);
        background: rgba(255, 0, 60, 0.05);
    }

    .app-item.selected::before {
        content: '';
        position: absolute;
        top: 0; right: 0;
        width: 0; height: 0;
        border-style: solid;
        border-width: 0 20px 20px 0;
        border-color: transparent var(--primary) transparent transparent;
    }

    .app-icon {
      font-size: 24px;
      margin-bottom: 10px;
      color: var(--text);
      text-shadow: 0 0 10px rgba(255,255,255,0.3);
    }

    .app-item.selected .app-icon {
        color: var(--primary);
        text-shadow: 0 0 10px var(--primary);
    }

    .app-label {
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Execute Button */
    .fab-container {
        position: fixed;
        bottom: 80px;
        right: 20px;
        z-index: 20;
    }

    .execute-btn {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: var(--primary);
        border: none;
        color: #000;
        font-size: 20px;
        box-shadow: 0 0 20px rgba(255, 0, 60, 0.4);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: transform 0.2s;
    }

    .execute-btn:active {
        transform: scale(0.9) rotate(90deg);
    }

    /* Bottom Nav */
    .bottom-nav {
      height: 60px;
      background: #080808;
      border-top: 1px solid var(--border);
      display: flex;
      justify-content: space-around;
      align-items: center;
      position: fixed;
      bottom: 0;
      width: 100%;
      z-index: 10;
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      color: var(--text-muted);
      text-decoration: none;
      font-size: 10px;
      gap: 4px;
      padding: 10px;
    }

    .nav-item.active {
      color: var(--primary);
    }

    .nav-item i {
        font-size: 18px;
    }

    /* Loading Overlay */
    .loading-overlay {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.9);
      display: flex; justify-content: center; align-items: center;
      flex-direction: column;
      z-index: 1000; opacity: 0; visibility: hidden;
      transition: all 0.3s ease;
    }

    .loading-overlay.active { opacity: 1; visibility: visible; }

    .loader-text {
        margin-top: 20px;
        font-family: 'Roboto Mono', monospace;
        color: var(--primary);
        animation: blink 1s infinite;
    }

    @keyframes blink { 50% { opacity: 0.5; } }

    /* Toast */
    .toast {
      position: fixed;
      top: 70px; /* Below app bar */
      left: 50%;
      transform: translateX(-50%);
      background: rgba(20, 20, 20, 0.95);
      border: 1px solid var(--primary);
      color: var(--primary);
      padding: 12px 24px;
      border-radius: 4px;
      font-family: 'Roboto Mono', monospace;
      font-size: 12px;
      z-index: 100;
      display: none;
    }

  </style>
</head>
<body>

  <!-- App Bar -->
  <header class="app-bar">
    <div class="app-title">DASHBOARD</div>
    <div class="status-indicator">{{status}}</div>
  </header>

  <!-- Content -->
  <div class="content-area">

    <!-- Stats -->
    <div class="stats-card">
        <div class="user-info">
            <h3>${username}</h3>
            <p>EXP: ${formattedTime}</p>
        </div>
        <div class="server-status">
            <div class="status-text">V4.0</div>
        </div>
    </div>

    <!-- Server Msg -->
    <div class="server-msg-box" id="serverMessage">
        SYSTEM MSG: {{message}}
    </div>

    <!-- Attack Form -->
    <form action="/execution" method="GET" id="attackForm">
        <input type="hidden" name="mode" id="attackMode">

        <div class="target-section">
            <div class="section-title">TARGET COORDINATES</div>
            <div class="input-wrapper">
                <i class="fab fa-whatsapp input-icon"></i>
                <input type="tel" id="targetNumber" name="target" class="target-input" placeholder="628xxx" required autocomplete="off" />
            </div>
            <div class="error-message" id="targetError" style="color:var(--primary); font-size:10px; margin-top:5px; display:none;">>> INVALID FORMAT</div>
        </div>

        <div class="section-title">SELECT MODULE</div>
        <div class="apps-grid">
            <div class="app-item" onclick="selectModule(this, 'delay')">
                <i class="fas fa-biohazard app-icon"></i>
                <span class="app-label">INVIRUS</span>
            </div>
            <div class="app-item" onclick="selectModule(this, 'invis')">
                <i class="fas fa-bug app-icon"></i>
                <span class="app-label">BUG GRP</span>
            </div>
            <div class="app-item" onclick="selectModule(this, 'blank')">
                <i class="fas fa-skull app-icon"></i>
                <span class="app-label">UI KILL</span>
            </div>
            <div class="app-item" onclick="selectModule(this, 'fc')">
                <i class="fab fa-apple app-icon"></i>
                <span class="app-label">iOS CRASH</span>
            </div>
        </div>
    </form>
  </div>

  <!-- FAB -->
  <div class="fab-container">
    <button class="execute-btn" onclick="executeAttack()">
        <i class="fas fa-bolt"></i>
    </button>
  </div>

  <!-- Bottom Nav -->
  <nav class="bottom-nav">
    <a href="#" class="nav-item active">
        <i class="fas fa-home"></i>
        <span>HOME</span>
    </a>
    <a href="#" class="nav-item">
        <i class="fas fa-terminal"></i>
        <span>LOGS</span>
    </a>
    <a href="/logout" class="nav-item">
        <i class="fas fa-sign-out-alt"></i>
        <span>EXIT</span>
    </a>
  </nav>

  <!-- Overlays -->
  <div class="loading-overlay" id="loader">
    <i class="fas fa-circle-notch fa-spin" style="font-size: 40px; color: var(--primary);"></i>
    <div class="loader-text">EXECUTING PAYLOAD...</div>
  </div>

  <div class="toast" id="toast"></div>

  <audio id="bgAudio" loop>
    <source src="https://files.catbox.moe/huzgcc.mp3" type="audio/mpeg">
  </audio>

  <script>
    let selectedMode = null;

    // Audio
    const audio = document.getElementById('bgAudio');
    audio.volume = 0.2;
    document.body.addEventListener('click', () => {
        if(audio.paused) audio.play();
    }, { once: true });

    // Module Selection
    function selectModule(el, mode) {
        document.querySelectorAll('.app-item').forEach(i => i.classList.remove('selected'));
        el.classList.add('selected');
        selectedMode = mode;
        document.getElementById('attackMode').value = mode;
    }

    // Execution
    function executeAttack() {
        const target = document.getElementById('targetNumber').value;
        const err = document.getElementById('targetError');

        if (!target) {
            err.style.display = 'block';
            err.innerText = ">> ERROR: TARGET REQUIRED";
            return;
        }

        if (!selectedMode) {
            showToast(">> ERROR: SELECT MODULE FIRST");
            return;
        }

        err.style.display = 'none';
        document.getElementById('loader').classList.add('active');
        document.getElementById('attackForm').submit();
    }

    function showToast(msg) {
        const t = document.getElementById('toast');
        t.innerText = msg;
        t.style.display = 'block';
        setTimeout(() => t.style.display = 'none', 3000);
    }

    // Message Cleanup
    const srvMsg = document.getElementById('serverMessage');
    if (srvMsg.innerText.includes('{{message}}') || srvMsg.innerText.trim() === 'SYSTEM MSG:') {
        srvMsg.style.display = 'none';
    }
  </script>

</body>
</html>
